<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OOP设计原则汇总 | looechao</title>
    
    <link rel="icon" href="/images/favicon.png" type="image/png">
    <link rel="shortcut icon" href="/images/favicon.png" type="image/png">
    

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Noto+Serif+SC:wght@200..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <link rel="preload" href="/css/components/right-panel.css" as="style">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/typography.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/components/sidebar.css">
    <link rel="stylesheet" href="/css/components/footer.css">
    <link rel="stylesheet" href="/css/components/right-panel.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/neodb.css">
    
    <link rel="stylesheet" href="/css/pages/single.css">
    
    
    
    
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9W970VLJ6X"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-9W970VLJ6X');
    </script>
    
</head>

<body>
    <div class="site-container">
        <aside class="site-sidebar">
            <aside class="sidebar">
    
    <div class="profile">
        <a href="https://looechao.com/" class="avatar">
            
            <img src="https://static.looechao.com/profile/profile-purple.png/profile.png" alt="Looe" />
            
        </a>
        <div class="profile-text">
            <p class="name">Looe</p>
            <p class="bio">looechao</p>
        </div>
    </div>

    
    <nav class="nav">
        <a href="https://looechao.com/" >BLOG</a>
        <a href="https://looechao.com/running_page/" target="_blank">MILES</a>
        <a href="/about" >ABOUT</a>
    </nav>

    
    <div class="site--icons">
        
        <a href="mailto:lu.chao.personal@gmail.com" target="_blank" title="Email">
            <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
                <g id="evaEmailFill0">
                    <g id="evaEmailFill1">
                        <path id="evaEmailFill2" fill="currentColor"
                            d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3Zm0 2l-6.5 4.47a1 1 0 0 1-1 0L5 6Z" />
                    </g>
                </g>
            </svg> </a>
        
        
        <a href="https://www.github.com/looechao" target="_blank" title="Github">
            <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 20 20">
                <path fill="currentColor"
                    d="M13.18 11.309c-.718 0-1.3.807-1.3 1.799c0 .994.582 1.801 1.3 1.801s1.3-.807 1.3-1.801c-.001-.992-.582-1.799-1.3-1.799zm4.526-4.683c.149-.365.155-2.439-.635-4.426c0 0-1.811.199-4.551 2.08c-.575-.16-1.548-.238-2.519-.238c-.973 0-1.945.078-2.52.238C4.74 2.399 2.929 2.2 2.929 2.2c-.789 1.987-.781 4.061-.634 4.426C1.367 7.634.8 8.845.8 10.497c0 7.186 5.963 7.301 7.467 7.301l1.734.002l1.732-.002c1.506 0 7.467-.115 7.467-7.301c0-1.652-.566-2.863-1.494-3.871zm-7.678 10.289h-.056c-3.771 0-6.709-.449-6.709-4.115c0-.879.31-1.693 1.047-2.369C5.537 9.304 7.615 9.9 9.972 9.9h.056c2.357 0 4.436-.596 5.664.531c.735.676 1.045 1.49 1.045 2.369c0 3.666-2.937 4.115-6.709 4.115zm-3.207-5.606c-.718 0-1.3.807-1.3 1.799c0 .994.582 1.801 1.3 1.801c.719 0 1.301-.807 1.301-1.801c0-.992-.582-1.799-1.301-1.799z" />
            </svg>
        </a>
        
        
        <a href="/posts/index.xml" target="_blank" title="RSS">
            <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
                <path fill="currentColor"
                    d="M6.002 15.999a2 2 0 1 0-.004 4a2 2 0 0 0 .004-4zM6 4a2 2 0 0 0 0 4c5.514 0 10 4.486 10 10a2 2 0 0 0 4 0c0-7.72-6.28-14-14-14zm0 6a2 2 0 0 0 0 4c2.205 0 4 1.794 4 4a2 2 0 0 0 4 0c0-4.411-3.589-8-8-8z" />
            </svg>
        </a>
        
    </div>
</aside>
        </aside>
        <aside class="site-right-panel">
            <div class="right-panel">
    <div class="panel-module tags-module">
        <h3 class="module-title">Tags</h3>
        <div class="tags-cloud">
            
            
            
            <a href="https://looechao.com/tags/2024weekly/" class="tag-item tag-alphanumeric" data-count="4">
                2024Weekly<span class="tag-count">4</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/2025weekly/" class="tag-item tag-alphanumeric" data-count="1">
                2025Weekly<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/agent/" class="tag-item tag-alphanumeric" data-count="1">
                Agent<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/bfs/" class="tag-item tag-alphanumeric" data-count="1">
                BFS<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/c/c&#43;&#43;/" class="tag-item tag-alphanumeric" data-count="17">
                C/C&#43;&#43;<span class="tag-count">17</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/epoll/" class="tag-item tag-alphanumeric" data-count="1">
                EPOLL<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/hexo/" class="tag-item tag-alphanumeric" data-count="1">
                Hexo<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/lectures/" class="tag-item tag-alphanumeric" data-count="1">
                Lectures<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/leetcode/" class="tag-item tag-alphanumeric" data-count="10">
                LeetCode<span class="tag-count">10</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/linux/" class="tag-item tag-alphanumeric" data-count="4">
                Linux<span class="tag-count">4</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/llm/" class="tag-item tag-alphanumeric" data-count="1">
                Llm<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/microsoft-store/" class="tag-item tag-alphanumeric" data-count="1">
                Microsoft Store<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/omegle/" class="tag-item tag-alphanumeric" data-count="1">
                Omegle<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/oop/" class="tag-item tag-alphanumeric" data-count="1">
                OOP<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/select/" class="tag-item tag-alphanumeric" data-count="1">
                SELECT<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/sso/" class="tag-item tag-alphanumeric" data-count="1">
                SSO<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/string/" class="tag-item tag-alphanumeric" data-count="1">
                String<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/tcp/" class="tag-item tag-alphanumeric" data-count="1">
                TCP<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/udp/" class="tag-item tag-alphanumeric" data-count="1">
                UDP<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/xbox360/" class="tag-item tag-alphanumeric" data-count="1">
                Xbox360<span class="tag-count">1</span>
            </a>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            

            
            
            
            
            
            
            
            <a href="https://looechao.com/tags/%E7%94%9F%E6%B4%BB/" class="tag-item tag-chinese" data-count="9">
                生活<span class="tag-count">9</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%8A%80%E6%9C%AF/" class="tag-item tag-chinese" data-count="8">
                技术<span class="tag-count">8</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%88%90%E9%95%BF/" class="tag-item tag-chinese" data-count="6">
                成长<span class="tag-count">6</span>
            </a>
            
            
            
            
            
            
            
            <a href="https://looechao.com/tags/%E6%95%B0%E7%A0%81/" class="tag-item tag-chinese" data-count="3">
                数码<span class="tag-count">3</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%9D%82%E8%B0%88/" class="tag-item tag-chinese" data-count="3">
                杂谈<span class="tag-count">3</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E7%AC%94%E8%AE%B0/" class="tag-item tag-chinese" data-count="3">
                笔记<span class="tag-count">3</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%84%9F%E6%82%9F/" class="tag-item tag-chinese" data-count="2">
                感悟<span class="tag-count">2</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="tag-item tag-chinese" data-count="2">
                网络编程<span class="tag-count">2</span>
            </a>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <a href="https://looechao.com/tags/%E4%B9%90%E8%A7%82%E4%B8%BB%E4%B9%89/" class="tag-item tag-chinese" data-count="1">
                乐观主义<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6/" class="tag-item tag-chinese" data-count="1">
                位运算符<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%81%A5%E5%BA%B7/" class="tag-item tag-chinese" data-count="1">
                健康<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%86%85%E5%8D%B7/" class="tag-item tag-chinese" data-count="1">
                内卷<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%88%86%E6%9E%90/" class="tag-item tag-chinese" data-count="1">
                分析<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%8C%BB%E7%96%97/" class="tag-item tag-chinese" data-count="1">
                医疗<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%8D%B3%E6%97%B6%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F/" class="tag-item tag-chinese" data-count="1">
                即时通信系统<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%93%B2%E7%90%86/" class="tag-item tag-chinese" data-count="1">
                哲理<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%B7%A5%E5%85%B7/" class="tag-item tag-chinese" data-count="1">
                工具<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" class="tag-item tag-chinese" data-count="1">
                年度总结<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%88%90%E5%B0%B1/" class="tag-item tag-chinese" data-count="1">
                成就<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%9E%81%E7%AE%80%E4%B8%BB%E4%B9%89/" class="tag-item tag-chinese" data-count="1">
                极简主义<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%B5%B7%E9%87%8F%E8%BF%9E%E6%8E%A5%E5%A4%84%E7%90%86/" class="tag-item tag-chinese" data-count="1">
                海量连接处理<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%B6%88%E8%B4%B9%E4%B8%BB%E4%B9%89%E9%99%B7%E9%98%B1/" class="tag-item tag-chinese" data-count="1">
                消费主义陷阱<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E7%A6%85/" class="tag-item tag-chinese" data-count="1">
                禅<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E7%AE%97%E6%B3%95/" class="tag-item tag-chinese" data-count="1">
                算法<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%82%96%E6%B4%AA%E6%B6%9B/" class="tag-item tag-chinese" data-count="1">
                肖洪涛<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%A7%82%E5%AF%9F/" class="tag-item tag-chinese" data-count="1">
                观察<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%A7%84%E5%88%92/" class="tag-item tag-chinese" data-count="1">
                规划<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%B7%A8%E5%B9%B4/" class="tag-item tag-chinese" data-count="1">
                跨年<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%BD%AC%E8%BD%BD/" class="tag-item tag-chinese" data-count="1">
                转载<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%BF%90%E5%8A%A8/" class="tag-item tag-chinese" data-count="1">
                运动<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%A4%8D%E5%85%B4/" class="tag-item tag-chinese" data-count="1">
                部落格复兴<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E9%98%85%E8%AF%BB/" class="tag-item tag-chinese" data-count="1">
                阅读<span class="tag-count">1</span>
            </a>
            
            
        </div>
    </div>
    
    
</div>
        </aside>
        <div class="site-middle">
            <main class="site-content">
                
<article class="single-article">
    <div class="article-header">
        <h1 class="article-title">OOP设计原则汇总</h1>
        <div class="article-meta">
            <div class="article-meta-top">
                <a href="https://looechao.com/" class="article-avatar" title="Back to Home">
                    
                    <img src="https://static.looechao.com/profile/profile-purple.png/profile.png" alt="Home" />
                    
                </a>
                <div class="article-meta-info">
                    <a href="https://looechao.com/" class="article-author">looechao</a>
                    <time class="article-date">Jul 24, 2024</time>
                </div>
            </div>
            
            <div class="article-tags">
                
                <a href="/tags/c/c&#43;&#43;" class="article-tag">C/C&#43;&#43;</a>
                
                <a href="/tags/oop" class="article-tag">OOP</a>
                
            </div>
            
        </div>
    </div>

    <div class="article-content">
        <h2 id="01-单一职责原则-single-responsibility-principle-srp">01 单一职责原则 (Single Responsibility Principle, SRP)</h2>
<ul>
<li>A class should have only one reason to change.</li>
<li>一个类应该只有一个引起它变化的原因。</li>
</ul>
<div>
<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://static.looechao.com/OOP/01-srp.png" width="80%">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">SRP</div>
</center>
</div>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;iostream&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>cout<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Rectangle</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    Rectangle<span style="color:#1f2328">(</span><span style="color:#cf222e">double</span> w<span style="color:#1f2328">,</span> <span style="color:#cf222e">double</span> h<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0550ae">:</span>_width<span style="color:#1f2328">(</span>w<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">,</span>_height<span style="color:#1f2328">(</span>h<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">double</span> <span style="color:#6639ba">area</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span> _width<span style="color:#0550ae">*</span>_height<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">double</span> <span style="color:#6639ba">getWidth</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span> _width<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">double</span> <span style="color:#6639ba">getHeight</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span> _height<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">protected</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">int</span> _width<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">int</span> _height<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">RectangleGUI</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Rectangle<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    RectangleGUI<span style="color:#1f2328">(</span><span style="color:#cf222e">double</span> w<span style="color:#1f2328">,</span> <span style="color:#cf222e">double</span> h<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0550ae">:</span>Rectangle<span style="color:#1f2328">(</span>w<span style="color:#1f2328">,</span>h<span style="color:#1f2328">){}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> <span style="color:#6639ba">draw</span><span style="color:#1f2328">()</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;rectangle&#39;s&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;width:&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> getWidth<span style="color:#1f2328">()</span> <span style="color:#0550ae">&lt;&lt;</span> endl
</span></span><span style="display:flex;"><span>            <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;rectangle&#39;s&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;height:&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> getHeight<span style="color:#1f2328">()</span> <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">void</span> <span style="color:#6639ba">test0</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>    Rectangle rect<span style="color:#1f2328">(</span><span style="color:#0550ae">10</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;area: &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> rect<span style="color:#1f2328">.</span>area<span style="color:#1f2328">()</span> <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    RectangleGUI rectdraw<span style="color:#1f2328">(</span><span style="color:#0550ae">10</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    rectdraw<span style="color:#1f2328">.</span>draw<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    test0<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><h2 id="02-开放闭合原则openclosed-principle-ocp">02 开放闭合原则(Open/Closed Principle, OCP)</h2>
<ul>
<li>Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification.</li>
<li>软件实体（类、模块、函数等）应该对扩展开放，对修改关闭。</li>
</ul>
<div>
<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://static.looechao.com/OOP/02-ocp.png" width="100%">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">OCP</div>
</center>
</div>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;iostream&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>cout<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Calculator</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#0550ae">~</span>Calculator<span style="color:#1f2328">()</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">default</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#cf222e">double</span> <span style="color:#6639ba">getResult</span><span style="color:#1f2328">(</span><span style="color:#cf222e">double</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">double</span> b<span style="color:#1f2328">)</span> <span style="color:#cf222e">const</span> <span style="color:#0550ae">=</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">PlusCalculator</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Calculator<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">double</span> getResult<span style="color:#1f2328">(</span><span style="color:#cf222e">double</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">double</span> b<span style="color:#1f2328">)</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span> a <span style="color:#0550ae">+</span> b<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">MinusCalculator</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Calculator<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">double</span> getResult<span style="color:#1f2328">(</span><span style="color:#cf222e">double</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">double</span> b<span style="color:#1f2328">)</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span> a <span style="color:#0550ae">-</span> b<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">MultiCalculator</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Calculator<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">double</span> getResult<span style="color:#1f2328">(</span><span style="color:#cf222e">double</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">double</span> b<span style="color:#1f2328">)</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span> a <span style="color:#0550ae">*</span> b<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">DevideCalculator</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Calculator<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">double</span> getResult<span style="color:#1f2328">(</span><span style="color:#cf222e">double</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">double</span> b<span style="color:#1f2328">)</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span> a <span style="color:#0550ae">/</span> b<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">void</span> <span style="color:#6639ba">test0</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>    PlusCalculator plusCalc<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    MinusCalculator minusCalc<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    MultiCalculator multiCalc<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    DevideCalculator devideCalc<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;plus: &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> plusCalc<span style="color:#1f2328">.</span>getResult<span style="color:#1f2328">(</span><span style="color:#0550ae">10</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;minus: &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> minusCalc<span style="color:#1f2328">.</span>getResult<span style="color:#1f2328">(</span><span style="color:#0550ae">10</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;multi: &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> multiCalc<span style="color:#1f2328">.</span>getResult<span style="color:#1f2328">(</span><span style="color:#0550ae">10</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;devide: &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> devideCalc<span style="color:#1f2328">.</span>getResult<span style="color:#1f2328">(</span><span style="color:#0550ae">10</span><span style="color:#1f2328">,</span><span style="color:#0550ae">5</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">&lt;&lt;</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    test0<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><h2 id="03-里氏替换原则liskov-substitution-principle-lsp">03 里氏替换原则(Liskov Substitution Principle, LSP)</h2>
<ul>
<li>Subtypes must be substitutable for their base types.</li>
<li>派生类必须能够替换其基类。</li>
</ul>
<div>
<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://static.looechao.com/OOP/03-lsp-1.png" width="50%">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">LSP1</div>
</center>
</div>
<div>
<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://static.looechao.com/OOP/03-lsp-2.png" width="50%">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">LSP2</div>
</center>
</div>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;iostream&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;string&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>cout<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>string<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">User</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    User<span style="color:#1f2328">(</span>string<span style="color:#0550ae">&amp;</span> name<span style="color:#1f2328">,</span> <span style="color:#cf222e">float</span> score<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0550ae">:</span>_name<span style="color:#1f2328">(</span>name<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">,</span>_score<span style="color:#1f2328">(</span>score<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#cf222e">void</span> <span style="color:#6639ba">consume</span><span style="color:#1f2328">(</span><span style="color:#cf222e">float</span> amount<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>        _score <span style="color:#0550ae">-=</span> amount<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#0550ae">&lt;&lt;</span> _name <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34; consumed &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> amount <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;remaining score is &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> _score <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">protected</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    string _name<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">float</span> _score<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">VipUser</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> User<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    VipUser<span style="color:#1f2328">(</span>string<span style="color:#0550ae">&amp;</span> name<span style="color:#1f2328">,</span> <span style="color:#cf222e">float</span> score<span style="color:#1f2328">,</span> <span style="color:#cf222e">float</span> discount<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0550ae">:</span>User<span style="color:#1f2328">(</span>name<span style="color:#1f2328">,</span> score<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">,</span>_discount<span style="color:#1f2328">(</span>discount<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#57606a">//重命名consume 满足里氏替换原则
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>    <span style="color:#cf222e">void</span> <span style="color:#6639ba">vipconsume</span><span style="color:#1f2328">(</span><span style="color:#cf222e">float</span> amount<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">float</span> discountedAmount <span style="color:#0550ae">=</span> amount <span style="color:#0550ae">*</span> _discount<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>        User<span style="color:#0550ae">::</span>consume<span style="color:#1f2328">(</span>discountedAmount<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;VIP user: &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> _name <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34; consumed &#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#0550ae">&lt;&lt;</span> discountedAmount <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34; with discount&#34;</span><span style="color:#0550ae">&lt;&lt;</span> endl <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;remaining score is &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> _score <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> <span style="color:#6639ba">updateDiscount</span><span style="color:#1f2328">(</span><span style="color:#cf222e">float</span> newDiscount<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>        _discount <span style="color:#0550ae">=</span> newDiscount<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">private</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">float</span> _discount<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">void</span> <span style="color:#6639ba">test0</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>    string name1 <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;jhon&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    string name2 <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#34;evan&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    User user<span style="color:#1f2328">(</span>name1<span style="color:#1f2328">,</span> <span style="color:#0550ae">100</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    user<span style="color:#1f2328">.</span>consume<span style="color:#1f2328">(</span><span style="color:#0550ae">20</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    VipUser vipuser<span style="color:#1f2328">(</span>name2<span style="color:#1f2328">,</span> <span style="color:#0550ae">100</span><span style="color:#1f2328">,</span> <span style="color:#0550ae">0.8</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    vipuser<span style="color:#1f2328">.</span>vipconsume<span style="color:#1f2328">(</span><span style="color:#0550ae">20</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    test0<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><h2 id="04-接口分离原则interface-segregation-principle-isp">04 接口分离原则(Interface Segregation Principle, ISP)</h2>
<ul>
<li>Clients should not be forced to depend on interfaces they do not use.</li>
<li>客户端不应该被迫依赖于它们不使用的接口。</li>
</ul>
<div>
<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://static.looechao.com/OOP/04-isp.png" width="80%">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">ISP</div>
</center>
</div>
<p>核心思想：使用多个小的专门的接口，而不要使用一个大的总接口。</p>
<p>Bird类包括eat walk chirp</p>
<p>应该让Bird拆分成FlyingBird和Bird</p>
<p>FlyingBird新增fly()</p>
<p>这是Crow可以继承Flyingbird 而 Ostrich可以继承Bird</p>
<p>用CPP模拟这个原则</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;iostream&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// 基类 Bird
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Bird</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#0550ae">~</span>Bird<span style="color:#1f2328">()</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">default</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#cf222e">void</span> <span style="color:#6639ba">eat</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Bird is eating.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#cf222e">void</span> <span style="color:#6639ba">walk</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Bird is walking.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#cf222e">void</span> <span style="color:#6639ba">chirp</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Bird is chirping.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// 派生类 FlyingBird
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">class</span> <span style="color:#1f2328">FlyingBird</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Bird <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#cf222e">void</span> fly<span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;FlyingBird is flying.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// Crow 继承 FlyingBird
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Crow</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> FlyingBird <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> fly<span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Crow is flying.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> <span style="color:#6639ba">chirp</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Crow is cawing.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// Ostrich 继承 Bird
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Ostrich</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Bird <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> walk<span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Ostrich is walking.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> <span style="color:#6639ba">chirp</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Ostrich is grunting.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">()</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    Crow crow<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    crow<span style="color:#1f2328">.</span>eat<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    crow<span style="color:#1f2328">.</span>walk<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    crow<span style="color:#1f2328">.</span>chirp<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    crow<span style="color:#1f2328">.</span>fly<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Ostrich ostrich<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    ostrich<span style="color:#1f2328">.</span>eat<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    ostrich<span style="color:#1f2328">.</span>walk<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    ostrich<span style="color:#1f2328">.</span>chirp<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><h2 id="05-依赖倒置原则dependency-inversion-principle-dip">05 依赖倒置原则(Dependency Inversion Principle, DIP)</h2>
<ul>
<li>High-level modules should not depend on low-level modules. Both should depend on abstractions. Abstractions should not depend on details. Details should depend on abstractions.</li>
<li>高层模块不应该依赖于低层模块，两者都应该依赖于抽象。抽象不应该依赖于细节，细节应该依赖于抽象。</li>
</ul>
<div>
<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://static.looechao.com/OOP/05-dip.png" width="80%">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">DIP</div>
</center>
</div>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;iostream&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;string&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// 抽象类 BankWorker
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">class</span> <span style="color:#1f2328">BankWorker</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#0550ae">~</span>BankWorker<span style="color:#1f2328">()</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">default</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#57606a">// 纯虚函数 doBusiness
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>    <span style="color:#cf222e">virtual</span> <span style="color:#cf222e">void</span> <span style="color:#6639ba">doBusiness</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#0550ae">=</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// SaveBusiness 类实现 doBusiness
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">class</span> <span style="color:#1f2328">SaveBusiness</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> BankWorker <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> doBusiness<span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Performing save business.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// PayBusiness 类实现 doBusiness
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">class</span> <span style="color:#1f2328">PayBusiness</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> BankWorker <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> doBusiness<span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Performing pay business.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// TransferBusiness 类实现 doBusiness
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">class</span> <span style="color:#1f2328">TransferBusiness</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> BankWorker <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> doBusiness<span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        std<span style="color:#0550ae">::</span>cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Performing transfer business.&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">// 高层模块依赖于抽象类 BankWorker
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">void</span> <span style="color:#6639ba">performBusiness</span><span style="color:#1f2328">(</span><span style="color:#cf222e">const</span> BankWorker<span style="color:#0550ae">&amp;</span> worker<span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    worker<span style="color:#1f2328">.</span>doBusiness<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">()</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    SaveBusiness saveWorker<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    PayBusiness payWorker<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    TransferBusiness transferWorker<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    performBusiness<span style="color:#1f2328">(</span>saveWorker<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    performBusiness<span style="color:#1f2328">(</span>payWorker<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    performBusiness<span style="color:#1f2328">(</span>transferWorker<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><h2 id="06-迪米特原则-law-of-demeter-lod">06 迪米特原则 (Law of Demeter, LoD)</h2>
<ul>
<li>
<p>又称为最少知道原则 (Principle of Least Knowledge)</p>
<ul>
<li>Each unit should have only limited knowledge about other units: only units &ldquo;closely&rdquo; related to the current unit.</li>
<li>每个单元应该对其他单元有最少的了解：只与当前单元“紧密”相关的单元。</li>
</ul>
</li>
</ul>
<div>
<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://static.looechao.com/OOP/06-lod.png" width="80%">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">LoD</div>
</center>
</div>
<p>楼盘买房问题，相比于直接看3处房产让买房者找中介买不同的房子</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;iostream&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;string&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;vector&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>vector<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>cout<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>string<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Property</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    Property<span style="color:#1f2328">(</span><span style="color:#cf222e">const</span> string<span style="color:#0550ae">&amp;</span> address<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0550ae">:</span>_address<span style="color:#1f2328">(</span>address<span style="color:#1f2328">){}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    string <span style="color:#6639ba">getAddress</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span> _address<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">private</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>     string _address<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Agent</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> addProperty<span style="color:#1f2328">(</span><span style="color:#cf222e">const</span> Property<span style="color:#0550ae">&amp;</span> property<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>        properties<span style="color:#1f2328">.</span>push_back<span style="color:#1f2328">(</span>property<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> <span style="color:#6639ba">showProperties</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">for</span><span style="color:#1f2328">(</span><span style="color:#cf222e">const</span> <span style="color:#cf222e">auto</span><span style="color:#0550ae">&amp;</span> <span style="color:#900;font-weight:bold">property</span> <span style="color:#1f2328">:</span> properties<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>            cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Property address: &#34;</span> <span style="color:#0550ae">&lt;&lt;</span> property<span style="color:#1f2328">.</span>getAddress<span style="color:#1f2328">()</span> <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">private</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    vector<span style="color:#0550ae">&lt;</span>Property<span style="color:#0550ae">&gt;</span> properties<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Buyer</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    Buyer<span style="color:#1f2328">(</span>Agent<span style="color:#0550ae">&amp;</span> agent<span style="color:#1f2328">)</span> <span style="color:#0550ae">:</span> agent<span style="color:#1f2328">(</span>agent<span style="color:#1f2328">){}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> <span style="color:#6639ba">viewProperties</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        agent<span style="color:#1f2328">.</span>showProperties<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">private</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    Agent<span style="color:#0550ae">&amp;</span> agent<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">void</span> <span style="color:#6639ba">test0</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>    Agent agent<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    agent<span style="color:#1f2328">.</span>addProperty<span style="color:#1f2328">(</span>Property<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;wuhan&#34;</span><span style="color:#1f2328">));</span>
</span></span><span style="display:flex;"><span>    agent<span style="color:#1f2328">.</span>addProperty<span style="color:#1f2328">(</span>Property<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;changsha&#34;</span><span style="color:#1f2328">));</span>
</span></span><span style="display:flex;"><span>    agent<span style="color:#1f2328">.</span>addProperty<span style="color:#1f2328">(</span>Property<span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;shenzhen&#34;</span><span style="color:#1f2328">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Buyer buyer<span style="color:#1f2328">(</span>agent<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    buyer<span style="color:#1f2328">.</span>viewProperties<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    test0<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><h2 id="07-组合复用原则composition-over-inheritance-principle">07 组合复用原则Composition Over Inheritance Principle)</h2>
<ul>
<li>Favor composition over inheritance as a reuse mechanism.</li>
<li>在复用时，优先使用组合而不是继承。</li>
</ul>
<div>
<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="https://static.looechao.com/OOP/07-coip.png" width="80%">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">COIP</div>
</center>
</div>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&lt;iostream&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>cout<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">using</span> std<span style="color:#0550ae">::</span>endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Vehicle</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#0550ae">~</span>Vehicle<span style="color:#1f2328">()</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">default</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">virtual</span> <span style="color:#cf222e">void</span> <span style="color:#6639ba">run</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;Vehicle is running&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">BYD</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Vehicle<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> run<span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;BYD is running&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">TESLA</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Vehicle<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> run<span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;TESLA is running&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">GEELY</span> <span style="color:#0550ae">:</span> <span style="color:#cf222e">public</span> Vehicle<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> run<span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span> <span style="color:#cf222e">override</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;GEELY is running&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">class</span> <span style="color:#1f2328">Person</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">public</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    Person<span style="color:#1f2328">(</span>Vehicle<span style="color:#0550ae">*</span> vehicle<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0550ae">:</span>vehicle<span style="color:#1f2328">(</span>vehicle<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">void</span> <span style="color:#6639ba">drive</span><span style="color:#1f2328">()</span> <span style="color:#cf222e">const</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">if</span><span style="color:#1f2328">(</span>vehicle<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>            vehicle<span style="color:#0550ae">-&gt;</span>run<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">}</span><span style="color:#cf222e">else</span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>            cout <span style="color:#0550ae">&lt;&lt;</span> <span style="color:#0a3069">&#34;No cat to drive&#34;</span> <span style="color:#0550ae">&lt;&lt;</span> endl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">private</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>    Vehicle<span style="color:#0550ae">*</span> vehicle<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">void</span> <span style="color:#6639ba">test0</span><span style="color:#1f2328">(){</span>
</span></span><span style="display:flex;"><span>    BYD byd<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    TESLA tsla<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    GEELY gl<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    Person person1<span style="color:#1f2328">(</span><span style="color:#0550ae">&amp;</span>byd<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    Person person2<span style="color:#1f2328">(</span><span style="color:#0550ae">&amp;</span>tsla<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    Person person3<span style="color:#1f2328">(</span><span style="color:#0550ae">&amp;</span>gl<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    person1<span style="color:#1f2328">.</span>drive<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    person2<span style="color:#1f2328">.</span>drive<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    person3<span style="color:#1f2328">.</span>drive<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    test0<span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div>
    </div>
</article>


<link rel="stylesheet" href="/css/image-modal.css">
<script src="/js/image-zoom.js"></script>

                <footer>
  <p style="display: flex; justify-content: space-between; align-items: center; margin: 0;">
    <span>&copy; 2025 <a href="https://looechao.com/" style="color: inherit; text-decoration: none;">looechao</a>. All rights reserved.</span>
    <a href="/changelog" style="color: inherit; text-decoration: none;">Changelog</a>
  </p>
</footer>

            </main>
            
<div class="comments-wrapper">
    <div id="giscus-container" class="comments-section"></div>
    <script src="https://giscus.app/client.js" data-repo="looechao/hugo-comments"
        data-repo-id="R_kgDOLbUd7g" data-category="Announcements"
        data-category-id="DIC_kwDOLbUd7s4Cum0P"
        data-mapping="pathname" data-strict="0"
        data-reactions-enabled="true"
        data-emit-metadata="false" data-input-position="top"
        data-theme="light"
        data-lang="en" crossorigin="anonymous" async>
        </script>
</div>

        </div>
    </div>
    
    
</body>

</html>