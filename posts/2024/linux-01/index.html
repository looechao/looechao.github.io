<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux学习笔记-24年5月第一组 | looechao</title>
    
    <link rel="icon" href="/images/favicon.png" type="image/png">
    <link rel="shortcut icon" href="/images/favicon.png" type="image/png">
    

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Noto+Serif+SC:wght@200..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <link rel="preload" href="/css/components/right-panel.css" as="style">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/typography.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/components/sidebar.css">
    <link rel="stylesheet" href="/css/components/footer.css">
    <link rel="stylesheet" href="/css/components/right-panel.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/neodb.css">
    
    <link rel="stylesheet" href="/css/pages/single.css">
    
    
    
    
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9W970VLJ6X"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-9W970VLJ6X');
    </script>
    
</head>

<body>
    <div class="site-container">
        <aside class="site-sidebar">
            <aside class="sidebar">
    
    <div class="profile">
        <a href="https://looechao.com/" class="avatar">
            
            <img src="https://static.looechao.com/profile/profile-purple.png/profile.png" alt="Looe" />
            
        </a>
        <div class="profile-text">
            <p class="name">Looe</p>
            <p class="bio">looechao</p>
        </div>
    </div>

    
    <nav class="nav">
        <a href="https://looechao.com/" >BLOG</a>
        <a href="https://looechao.com/running_page/" target="_blank">MILES</a>
        <a href="/about" >ABOUT</a>
    </nav>

    
    <div class="site--icons">
        
        <a href="mailto:lu.chao.personal@gmail.com" target="_blank" title="Email">
            <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
                <g id="evaEmailFill0">
                    <g id="evaEmailFill1">
                        <path id="evaEmailFill2" fill="currentColor"
                            d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3Zm0 2l-6.5 4.47a1 1 0 0 1-1 0L5 6Z" />
                    </g>
                </g>
            </svg> </a>
        
        
        <a href="https://www.github.com/looechao" target="_blank" title="Github">
            <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 20 20">
                <path fill="currentColor"
                    d="M13.18 11.309c-.718 0-1.3.807-1.3 1.799c0 .994.582 1.801 1.3 1.801s1.3-.807 1.3-1.801c-.001-.992-.582-1.799-1.3-1.799zm4.526-4.683c.149-.365.155-2.439-.635-4.426c0 0-1.811.199-4.551 2.08c-.575-.16-1.548-.238-2.519-.238c-.973 0-1.945.078-2.52.238C4.74 2.399 2.929 2.2 2.929 2.2c-.789 1.987-.781 4.061-.634 4.426C1.367 7.634.8 8.845.8 10.497c0 7.186 5.963 7.301 7.467 7.301l1.734.002l1.732-.002c1.506 0 7.467-.115 7.467-7.301c0-1.652-.566-2.863-1.494-3.871zm-7.678 10.289h-.056c-3.771 0-6.709-.449-6.709-4.115c0-.879.31-1.693 1.047-2.369C5.537 9.304 7.615 9.9 9.972 9.9h.056c2.357 0 4.436-.596 5.664.531c.735.676 1.045 1.49 1.045 2.369c0 3.666-2.937 4.115-6.709 4.115zm-3.207-5.606c-.718 0-1.3.807-1.3 1.799c0 .994.582 1.801 1.3 1.801c.719 0 1.301-.807 1.301-1.801c0-.992-.582-1.799-1.301-1.799z" />
            </svg>
        </a>
        
        
        <a href="/posts/index.xml" target="_blank" title="RSS">
            <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
                <path fill="currentColor"
                    d="M6.002 15.999a2 2 0 1 0-.004 4a2 2 0 0 0 .004-4zM6 4a2 2 0 0 0 0 4c5.514 0 10 4.486 10 10a2 2 0 0 0 4 0c0-7.72-6.28-14-14-14zm0 6a2 2 0 0 0 0 4c2.205 0 4 1.794 4 4a2 2 0 0 0 4 0c0-4.411-3.589-8-8-8z" />
            </svg>
        </a>
        
    </div>
</aside>
        </aside>
        <aside class="site-right-panel">
            <div class="right-panel">
    <div class="panel-module tags-module">
        <h3 class="module-title">Tags</h3>
        <div class="tags-cloud">
            
            
            
            <a href="https://looechao.com/tags/2024weekly/" class="tag-item tag-alphanumeric" data-count="4">
                2024Weekly<span class="tag-count">4</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/2025weekly/" class="tag-item tag-alphanumeric" data-count="1">
                2025Weekly<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/agent/" class="tag-item tag-alphanumeric" data-count="1">
                Agent<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/bfs/" class="tag-item tag-alphanumeric" data-count="1">
                BFS<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/c/c&#43;&#43;/" class="tag-item tag-alphanumeric" data-count="17">
                C/C&#43;&#43;<span class="tag-count">17</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/epoll/" class="tag-item tag-alphanumeric" data-count="1">
                EPOLL<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/hexo/" class="tag-item tag-alphanumeric" data-count="1">
                Hexo<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/lectures/" class="tag-item tag-alphanumeric" data-count="1">
                Lectures<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/leetcode/" class="tag-item tag-alphanumeric" data-count="10">
                LeetCode<span class="tag-count">10</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/linux/" class="tag-item tag-alphanumeric" data-count="4">
                Linux<span class="tag-count">4</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/llm/" class="tag-item tag-alphanumeric" data-count="1">
                Llm<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/microsoft-store/" class="tag-item tag-alphanumeric" data-count="1">
                Microsoft Store<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/omegle/" class="tag-item tag-alphanumeric" data-count="1">
                Omegle<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/oop/" class="tag-item tag-alphanumeric" data-count="1">
                OOP<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/select/" class="tag-item tag-alphanumeric" data-count="1">
                SELECT<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/sso/" class="tag-item tag-alphanumeric" data-count="1">
                SSO<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/string/" class="tag-item tag-alphanumeric" data-count="1">
                String<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/tcp/" class="tag-item tag-alphanumeric" data-count="1">
                TCP<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/udp/" class="tag-item tag-alphanumeric" data-count="1">
                UDP<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/xbox360/" class="tag-item tag-alphanumeric" data-count="1">
                Xbox360<span class="tag-count">1</span>
            </a>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            

            
            
            
            
            
            
            
            <a href="https://looechao.com/tags/%E7%94%9F%E6%B4%BB/" class="tag-item tag-chinese" data-count="9">
                生活<span class="tag-count">9</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%8A%80%E6%9C%AF/" class="tag-item tag-chinese" data-count="8">
                技术<span class="tag-count">8</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%88%90%E9%95%BF/" class="tag-item tag-chinese" data-count="6">
                成长<span class="tag-count">6</span>
            </a>
            
            
            
            
            
            
            
            <a href="https://looechao.com/tags/%E6%95%B0%E7%A0%81/" class="tag-item tag-chinese" data-count="3">
                数码<span class="tag-count">3</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%9D%82%E8%B0%88/" class="tag-item tag-chinese" data-count="3">
                杂谈<span class="tag-count">3</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E7%AC%94%E8%AE%B0/" class="tag-item tag-chinese" data-count="3">
                笔记<span class="tag-count">3</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%84%9F%E6%82%9F/" class="tag-item tag-chinese" data-count="2">
                感悟<span class="tag-count">2</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="tag-item tag-chinese" data-count="2">
                网络编程<span class="tag-count">2</span>
            </a>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <a href="https://looechao.com/tags/%E4%B9%90%E8%A7%82%E4%B8%BB%E4%B9%89/" class="tag-item tag-chinese" data-count="1">
                乐观主义<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6/" class="tag-item tag-chinese" data-count="1">
                位运算符<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%81%A5%E5%BA%B7/" class="tag-item tag-chinese" data-count="1">
                健康<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%86%85%E5%8D%B7/" class="tag-item tag-chinese" data-count="1">
                内卷<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%88%86%E6%9E%90/" class="tag-item tag-chinese" data-count="1">
                分析<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%8C%BB%E7%96%97/" class="tag-item tag-chinese" data-count="1">
                医疗<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%8D%B3%E6%97%B6%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F/" class="tag-item tag-chinese" data-count="1">
                即时通信系统<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%93%B2%E7%90%86/" class="tag-item tag-chinese" data-count="1">
                哲理<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%B7%A5%E5%85%B7/" class="tag-item tag-chinese" data-count="1">
                工具<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" class="tag-item tag-chinese" data-count="1">
                年度总结<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%88%90%E5%B0%B1/" class="tag-item tag-chinese" data-count="1">
                成就<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%9E%81%E7%AE%80%E4%B8%BB%E4%B9%89/" class="tag-item tag-chinese" data-count="1">
                极简主义<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%B5%B7%E9%87%8F%E8%BF%9E%E6%8E%A5%E5%A4%84%E7%90%86/" class="tag-item tag-chinese" data-count="1">
                海量连接处理<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E6%B6%88%E8%B4%B9%E4%B8%BB%E4%B9%89%E9%99%B7%E9%98%B1/" class="tag-item tag-chinese" data-count="1">
                消费主义陷阱<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E7%A6%85/" class="tag-item tag-chinese" data-count="1">
                禅<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E7%AE%97%E6%B3%95/" class="tag-item tag-chinese" data-count="1">
                算法<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%82%96%E6%B4%AA%E6%B6%9B/" class="tag-item tag-chinese" data-count="1">
                肖洪涛<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%A7%82%E5%AF%9F/" class="tag-item tag-chinese" data-count="1">
                观察<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%A7%84%E5%88%92/" class="tag-item tag-chinese" data-count="1">
                规划<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%B7%A8%E5%B9%B4/" class="tag-item tag-chinese" data-count="1">
                跨年<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%BD%AC%E8%BD%BD/" class="tag-item tag-chinese" data-count="1">
                转载<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E8%BF%90%E5%8A%A8/" class="tag-item tag-chinese" data-count="1">
                运动<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%A4%8D%E5%85%B4/" class="tag-item tag-chinese" data-count="1">
                部落格复兴<span class="tag-count">1</span>
            </a>
            
            
            
            <a href="https://looechao.com/tags/%E9%98%85%E8%AF%BB/" class="tag-item tag-chinese" data-count="1">
                阅读<span class="tag-count">1</span>
            </a>
            
            
        </div>
    </div>
    
    
</div>
        </aside>
        <div class="site-middle">
            <main class="site-content">
                
<article class="single-article">
    <div class="article-header">
        <h1 class="article-title">Linux学习笔记-24年5月第一组</h1>
        <div class="article-meta">
            <div class="article-meta-top">
                <a href="https://looechao.com/" class="article-avatar" title="Back to Home">
                    
                    <img src="https://static.looechao.com/profile/profile-purple.png/profile.png" alt="Home" />
                    
                </a>
                <div class="article-meta-info">
                    <a href="https://looechao.com/" class="article-author">looechao</a>
                    <time class="article-date">May 18, 2024</time>
                </div>
            </div>
            
            <div class="article-tags">
                
                <a href="/tags/%E6%8A%80%E6%9C%AF" class="article-tag">技术</a>
                
                <a href="/tags/linux" class="article-tag">Linux</a>
                
            </div>
            
        </div>
    </div>

    <div class="article-content">
        <h1 id="推荐书籍">推荐书籍</h1>
<p>the linux command line</p>
<p>linux 系统编程</p>
<p>linux 系统编程接口</p>
<p>APUE</p>
<p>操作系统导论 - 深入理解操作系统</p>
<h1 id="常用命令">常用命令</h1>
<h2 id="vim">Vim</h2>
<p>Vim是一种多模式的编辑器</p>
<ul>
<li>
<p>Normal（命令模式）</p>
<table>
  <thead>
      <tr>
          <th>命令类型</th>
          <th>效果</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>短命令</td>
          <td>直接敲</td>
      </tr>
      <tr>
          <td>底部命令</td>
          <td>冒号开头，enter结尾</td>
      </tr>
      <tr>
          <td>motion(移动光标)</td>
          <td>h j k l [n]- [n]G gg 0 ^ $ w/W b/B t/T f/F</td>
      </tr>
      <tr>
          <td>text object</td>
          <td></td>
      </tr>
      <tr>
          <td>action</td>
          <td></td>
      </tr>
      <tr>
          <td>组合</td>
          <td>action+textobject  <br />action+motion</td>
      </tr>
      <tr>
          <td>撤销和恢复</td>
          <td>u（u for undo）<br />[ctrl] + r<br />类比入栈和出栈</td>
      </tr>
      <tr>
          <td>粘贴</td>
          <td>p/P</td>
      </tr>
      <tr>
          <td>查找文本</td>
          <td>/pattern 向下查找<br />?pattern 向上查找<br />搭配使用 n/N 移动光标</td>
      </tr>
      <tr>
          <td>替换</td>
          <td>substitute<br />:s/pattern/replace             替换所在行的第一个匹配项<br />:s/pattern/replace/g         替换所在行的所有匹配项<br />:m,n s/pattern/replace/g 限定范围[m,n]<br />:% s/pattern/replace/g     全文替换</td>
      </tr>
  </tbody>
</table>
<p>motion:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>h j k l <span style="color:#0550ae">[</span>n<span style="color:#0550ae">]</span>- <span style="color:#0550ae">[</span>n<span style="color:#0550ae">]</span>G gg <span style="color:#0550ae">0</span> ^ $ w/W b/B t/T
</span></span></code></pre></div><p>text object:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>d
</span></span><span style="display:flex;"><span>y
</span></span><span style="display:flex;"><span>c<span style="color:#0550ae">(</span>c <span style="color:#cf222e">for</span> change, 删除并进入到编辑模式<span style="color:#0550ae">)</span>
</span></span></code></pre></div></li>
<li>
<p>Insert（编辑文本）</p>
<ul>
<li>i 光标前 I 行前 a A o O 区分</li>
</ul>
</li>
<li>
<p>Visual / V-Block （行选/竖选）</p>
<ul>
<li>v 行选Visual</li>
<li>[ctrl] + v 竖选V-Block</li>
<li>批量注释
<ul>
<li>进入到竖选模式 [ctrl] + v</li>
<li>选择范围</li>
<li>在行首插入 I</li>
<li>按ESC完成注释</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="基本操作">基本操作</h3>
<p>移动(motion)</p>
<table>
  <thead>
      <tr>
          <th>按键</th>
          <th>操作</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>O</td>
          <td>行首</td>
      </tr>
      <tr>
          <td>$</td>
          <td>行尾</td>
      </tr>
      <tr>
          <td>w(word)</td>
          <td>下一个词首</td>
      </tr>
      <tr>
          <td>b(before)</td>
          <td>上一个词首</td>
      </tr>
  </tbody>
</table>
<p>动作(action)</p>
<table>
  <thead>
      <tr>
          <th>按键</th>
          <th>操作</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>d</td>
          <td>delete</td>
      </tr>
      <tr>
          <td>y</td>
          <td>yank</td>
      </tr>
      <tr>
          <td>c(change)</td>
          <td>删除并进入插入模式</td>
      </tr>
  </tbody>
</table>
<p>组合操作：action+motion</p>
<p>撤销恢复和删除</p>
<p>查找</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/pattern    向下查找 n下一个匹配项  N 上一个匹配项
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>?pattern    向上查找
</span></span></code></pre></div><p>替换</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>:s/pattern/replace/g
</span></span><span style="display:flex;"><span>:5,100s/pattern/replace/g   指定范围进行替换
</span></span><span style="display:flex;"><span>:%s/pattern/replace/g    全文替换
</span></span></code></pre></div><p>多窗口</p>
<table>
  <thead>
      <tr>
          <th>类型</th>
          <th>操作</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>水平分割</td>
          <td>:split /:sp :new</td>
      </tr>
      <tr>
          <td>垂直分割</td>
          <td>:/vsplit /:vsp :vnew</td>
      </tr>
      <tr>
          <td>切换窗口</td>
          <td>[ctrl]+ww</td>
      </tr>
      <tr>
          <td>退出窗口</td>
          <td>:q :only :qa</td>
      </tr>
      <tr>
          <td>保存</td>
          <td>:W :wa</td>
      </tr>
  </tbody>
</table>
<h2 id="linux">Linux</h2>
<h3 id="体系结构">体系结构</h3>
<ul>
<li>
<p>内核（kernal）</p>
<ul>
<li>管理硬件资源
<ul>
<li>CPU -&gt; 进程调度模块</li>
<li>内存 -&gt; 内存管理模块</li>
<li>外部设备 -&gt; 文件管理，网络通信，设备驱动</li>
</ul>
</li>
<li>对上层应用程序提供接口-&gt;系统调用</li>
</ul>
</li>
<li>
<p>系统调用（system calls）</p>
<ul>
<li>内核给上层应用程序提供的接口</li>
</ul>
</li>
<li>
<p>库函数（library functions）</p>
<ul>
<li>
<p>对系统调用的包装</p>
<table>
  <thead>
      <tr>
          <th>给用户的接口</th>
          <th>包装的系统调用</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>malloc</td>
          <td>sbrk</td>
      </tr>
      <tr>
          <td>printf</td>
          <td>write</td>
      </tr>
  </tbody>
</table>
<p>不同系统相同功能的系统调用是不同的，封装包装好系统调用有以下优点</p>
<ul>
<li>方便使用</li>
<li>可移植</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="linux用户">Linux用户</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: center">用户类型</th>
          <th style="text-align: center">权限</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">root</td>
          <td style="text-align: center">超级用户，（皇帝，拥有至高无上的权限）</td>
      </tr>
      <tr>
          <td style="text-align: center">sudoers</td>
          <td style="text-align: center">管理员用户，（太监，可以用sudo临时提高权限）</td>
      </tr>
      <tr>
          <td style="text-align: center">普通用户</td>
          <td style="text-align: center">平民</td>
      </tr>
  </tbody>
</table>
<ul>
<li>
<p>创建用户</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>useradd
</span></span></code></pre></div></li>
<li>
<p>删除用户</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>userdel
</span></span></code></pre></div></li>
<li>
<p>修改用户密码</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>passwd
</span></span></code></pre></div></li>
<li>
<p>切换用户</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>su
</span></span></code></pre></div></li>
<li>
<p>退出切换</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#6639ba">exit</span>
</span></span></code></pre></div></li>
<li>
<p>查看所用用户</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo cat /etc/passwd
</span></span></code></pre></div></li>
<li>
<p>添加用户</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>useradd <span style="color:#0550ae">[</span>options<span style="color:#0550ae">]</span> username
</span></span></code></pre></div></li>
</ul>
<h2 id="文件子系统">文件子系统</h2>
<p>Windows以程序划分文件，而Linux是按照功能划分文件位置，分门别类的管理</p>
<table>
  <thead>
      <tr>
          <th>目录名</th>
          <th>功能</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>/bin(binary)</td>
          <td>存放可执行文件</td>
      </tr>
      <tr>
          <td>/sys(system)</td>
          <td>存放系统文件</td>
      </tr>
      <tr>
          <td>/dev(device)</td>
          <td>设备文件</td>
      </tr>
      <tr>
          <td>/etc</td>
          <td>配置文件（passwd放用户信息/shadow存放密码）</td>
      </tr>
      <tr>
          <td>/lib(library)</td>
          <td>库文件</td>
      </tr>
      <tr>
          <td>/var(variable)</td>
          <td>日志文件等会发生变化的文件</td>
      </tr>
      <tr>
          <td>/proc(process)</td>
          <td>进程文件</td>
      </tr>
      <tr>
          <td>/root</td>
          <td>根目录</td>
      </tr>
      <tr>
          <td>/home(username)</td>
          <td>普通用户的家目录</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#0550ae">[</span>                      /                              <span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span> <span style="color:#0550ae">[</span>bin<span style="color:#0550ae">]</span>   <span style="color:#0550ae">[</span>sys<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>dev<span style="color:#0550ae">]</span>  <span style="color:#0550ae">[</span>etc<span style="color:#0550ae">]</span>  <span style="color:#0550ae">[</span>lib<span style="color:#0550ae">]</span>  <span style="color:#0550ae">[</span>var<span style="color:#0550ae">]</span>  <span style="color:#0550ae">[</span>root<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>home<span style="color:#0550ae">]</span>   
</span></span><span style="display:flex;"><span>                        /   <span style="color:#0a3069">\ </span>                       <span style="color:#1f2328">|</span>
</span></span><span style="display:flex;"><span>                       /     <span style="color:#0a3069">\ </span>                      <span style="color:#1f2328">|</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#0550ae">[</span>passwd<span style="color:#0550ae">]</span>  <span style="color:#0550ae">[</span>shadow<span style="color:#0550ae">]</span>             <span style="color:#0550ae">[</span>a.txt<span style="color:#0550ae">]</span> -&gt; inode -&gt; 物理地址
</span></span><span style="display:flex;"><span>                    
</span></span></code></pre></div><h3 id="通配符">通配符</h3>
<p>通配符（wildcard character）: <strong>用于匹配文件名字</strong>，注意与正则表达式的区别，正则表达式是用于匹配文件内容的。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*: 匹配任意多个字符，包括0个
</span></span><span style="display:flex;"><span>?: 匹配任意一个字符
</span></span><span style="display:flex;"><span>集合（类）: 
</span></span><span style="display:flex;"><span><span style="color:#0550ae">[</span> characters<span style="color:#0550ae">]</span> 匹配集合内任意一个字符
</span></span><span style="display:flex;"><span><span style="color:#0550ae">[</span>!characters<span style="color:#0550ae">]</span> 匹配集合外任意一个字符
</span></span><span style="display:flex;"><span><span style="color:#0550ae">[</span>abc<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>!abc<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>0-9<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>a-z<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>A-z<span style="color:#0550ae">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">[</span>looechao@fedora linux02<span style="color:#0550ae">]</span>$ tree
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>├── dira
</span></span><span style="display:flex;"><span>├── diraaa
</span></span><span style="display:flex;"><span>├── dirb
</span></span><span style="display:flex;"><span>├── dirbbb
</span></span><span style="display:flex;"><span>├── dirc
</span></span><span style="display:flex;"><span>├── dirccc
</span></span><span style="display:flex;"><span>├── dirxxx
</span></span><span style="display:flex;"><span>├── diryyy
</span></span><span style="display:flex;"><span>└── dirzzz
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">10</span> directories, <span style="color:#0550ae">0</span> files
</span></span><span style="display:flex;"><span><span style="color:#0550ae">[</span>looechao@fedora linux02<span style="color:#0550ae">]</span>$ rmdir dir*
</span></span><span style="display:flex;"><span><span style="color:#0550ae">[</span>looechao@fedora linux02<span style="color:#0550ae">]</span>$ tree
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span><span style="color:#0550ae">[</span>looechao@fedora linux02<span style="color:#0550ae">]</span>$ 
</span></span></code></pre></div><ul>
<li>匹配任意多个字符</li>
<li>匹配任意一个字符</li>
</ul>
<h3 id="ls命令">ls命令</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: center">常用选项</th>
          <th style="text-align: center">作用</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">list -i</td>
          <td style="text-align: center">显示inode编号，inode是物理文件的唯一标识</td>
      </tr>
      <tr>
          <td style="text-align: center">list -l</td>
          <td style="text-align: center">long format，用长格式显示每个目录的内容</td>
      </tr>
      <tr>
          <td style="text-align: center">list -h</td>
          <td style="text-align: center">常和-l一起使用，以人类可读的方式显示文件的大小</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">[</span>looechao@fedora ~<span style="color:#0550ae">]</span>$ ls -l
</span></span><span style="display:flex;"><span>总计 <span style="color:#0550ae">0</span>
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#0550ae">1</span> looechao looechao   <span style="color:#0550ae">0</span>  4月25日 14:33 公共
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#0550ae">1</span> looechao looechao   <span style="color:#0550ae">0</span>  4月25日 14:33 模板
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#0550ae">1</span> looechao looechao  <span style="color:#0550ae">12</span>  4月26日 18:56 视频
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#0550ae">1</span> looechao looechao  <span style="color:#0550ae">12</span>  4月26日 18:56 图片
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#0550ae">1</span> looechao looechao   <span style="color:#0550ae">0</span>  4月25日 14:33 文档
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#0550ae">1</span> looechao looechao <span style="color:#0550ae">324</span>  5月13日 14:19 下载
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#0550ae">1</span> looechao looechao   <span style="color:#0550ae">0</span>  4月25日 14:33 音乐
</span></span><span style="display:flex;"><span>drwxr-xr-x. <span style="color:#0550ae">1</span> looechao looechao   <span style="color:#0550ae">0</span>  4月25日 14:33 桌面
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>第一个字符文件类型
</span></span><span style="display:flex;"><span>    -: 普通文件  d<span style="color:#0550ae">(</span>dir<span style="color:#0550ae">)</span>:目录  c<span style="color:#0550ae">(</span>character<span style="color:#0550ae">)</span>:字符设备文件，键盘屏幕 b<span style="color:#0550ae">(</span>block<span style="color:#0550ae">)</span>: 块设备文件（磁盘 u盘）
</span></span><span style="display:flex;"><span>    p<span style="color:#0550ae">(</span>pipe<span style="color:#0550ae">)</span>: 有名管道  -s<span style="color:#0550ae">(</span>socket<span style="color:#0550ae">)</span>:本地套接字  -l<span style="color:#0550ae">(</span>link<span style="color:#0550ae">)</span>:符号链接
</span></span><span style="display:flex;"><span>剩余的九个字符：权限
</span></span><span style="display:flex;"><span>    文件拥有者usr:rw-
</span></span><span style="display:flex;"><span>    文件所有组group:rw-
</span></span><span style="display:flex;"><span>    其他人others: r--
</span></span></code></pre></div><h3 id="创建目录">创建目录</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir -p  创建目录
</span></span><span style="display:flex;"><span>rmdir -p  删除目录
</span></span><span style="display:flex;"><span>打印当前目录
</span></span><span style="display:flex;"><span><span style="color:#6639ba">pwd</span>
</span></span><span style="display:flex;"><span>切换当前目录
</span></span><span style="display:flex;"><span><span style="color:#6639ba">cd</span> - . / ~  上一次目录保存在OLDPWD环境变量中
</span></span><span style="display:flex;"><span>复制
</span></span><span style="display:flex;"><span>cp src dst 复制文件
</span></span><span style="display:flex;"><span>cp -r src dst 递归复制目录
</span></span><span style="display:flex;"><span>cp src .. srcn dst 将多个文件复制到某个目录下
</span></span><span style="display:flex;"><span>cp -n 不抢夺
</span></span><span style="display:flex;"><span>cp -i 交互式方式询问
</span></span></code></pre></div><h3 id="mv命令">mv命令</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mv text1 text2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">[</span>text1<span style="color:#0550ae">]</span>   <span style="color:#0550ae">[</span>text2<span style="color:#0550ae">]</span>                <span style="color:#0550ae">[</span>text2<span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>   <span style="color:#0a3069">\ </span>     /             -&gt;          <span style="color:#1f2328">|</span>
</span></span><span style="display:flex;"><span>   <span style="color:#0550ae">[</span>inode<span style="color:#0550ae">]</span>                       <span style="color:#0550ae">[</span>inode<span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>  
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mv text1 dir
</span></span></code></pre></div><h3 id="别名">别名</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#6639ba">alias</span> <span style="color:#6639ba">cd</span> <span style="color:#0550ae">=</span> <span style="color:#0a3069">&#39;rm -rf&#39;</span>
</span></span></code></pre></div><h3 id="创建文件">创建文件</h3>
<ul>
<li>
<p>创建空文件</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>touch
</span></span></code></pre></div></li>
<li>
<p>创建文件并输入简短的内容</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#6639ba">echo</span>
</span></span></code></pre></div></li>
<li>
<p>编辑文件</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vim
</span></span></code></pre></div></li>
</ul>
<h3 id="查找">查找</h3>
<p>find命令</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>find . -empty   找到空的文件和文件夹
</span></span><span style="display:flex;"><span>find . -user root 根据用户名称进行查找
</span></span><span style="display:flex;"><span>find . -uid root  根据用户id进行查找
</span></span><span style="display:flex;"><span>find . -perm <span style="color:#0550ae">775</span> 读写执行 读执行 根据权限查找
</span></span></code></pre></div><p>关于时间</p>
<ul>
<li>a(access) 文件访问时间</li>
<li>c(change) 文件属性发生改变的时间</li>
<li>m(modigy) 文件内容发生改变的时间</li>
<li>min 以分钟为单位</li>
<li>time 以天为单位</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>find . -mtime <span style="color:#0550ae">1</span>
</span></span><span style="display:flex;"><span>find . -mmin <span style="color:#0550ae">2</span>
</span></span><span style="display:flex;"><span>find . -mmin +2
</span></span><span style="display:flex;"><span>find . -mtime <span style="color:#0550ae">1</span> 一到两天内发生过内容修改的文件
</span></span></code></pre></div><p>组合查找</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>find /dev -type c -a -name <span style="color:#0a3069">&#34;tty*&#34;</span>
</span></span><span style="display:flex;"><span>find /dev -type b -o -name <span style="color:#0a3069">&#34;tty*&#34;</span>
</span></span><span style="display:flex;"><span>find /dev -type c -a !-name <span style="color:#0a3069">&#34;tty*&#34;</span>
</span></span></code></pre></div><h3 id="查看">查看</h3>
<p>cat 和 head</p>
<pre tabindex="0"><code>head -n 5 bible
tail -n +5 bible
</code></pre><p>less 单页浏览文件</p>
<pre tabindex="0"><code>less bible
</code></pre><h3 id="重定向">重定向</h3>
<table>
  <thead>
      <tr>
          <th>标准流</th>
          <th>文件描述符</th>
          <th>重定向符号</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>stdin</td>
          <td>0</td>
          <td>&lt;</td>
      </tr>
      <tr>
          <td>stdout</td>
          <td>1</td>
          <td>&gt;和&raquo;</td>
      </tr>
      <tr>
          <td>stderr</td>
          <td>2</td>
          <td>2&gt;或2&raquo;</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> &gt; 覆盖重定向
</span></span><span style="display:flex;"><span>&gt;&gt; 追加重定向
</span></span><span style="display:flex;"><span><span style="color:#0550ae">[</span>ctrl<span style="color:#0550ae">]</span> + D 输入EOF
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wc users   
</span></span><span style="display:flex;"><span>          键盘 stdin-<span style="color:#0550ae">[</span>程序<span style="color:#0550ae">]</span> 
</span></span><span style="display:flex;"><span>                    /  
</span></span><span style="display:flex;"><span>          文件  <span style="color:#0550ae">[</span>  <span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>wc &lt; users
</span></span></code></pre></div><h3 id="grep">grep</h3>
<p>用于搜索文件内容 globally search for a regular expression, 如果文件中某一行匹配指定的正则表达式，grep命令会显示这一行</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grep -E 使用拓展的正则表达式
</span></span><span style="display:flex;"><span>grep -i ignore忽略大小写
</span></span><span style="display:flex;"><span>grep -v --invert-match显示不匹配正则表达式的行
</span></span><span style="display:flex;"><span>grep -c 统计包含查找值的行数
</span></span></code></pre></div><h3 id="正则表达式">正则表达式</h3>
<ol>
<li>
<p>基本单位</p>
<ul>
<li>字符</li>
<li>转义字符</li>
<li>集合</li>
</ul>
</li>
<li>
<p>基本操作</p>
<p>操作对象是基本单位</p>
<ul>
<li>
<p>连接:</p>
<table>
  <thead>
      <tr>
          <th>操作</th>
          <th>效果</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ab</td>
          <td>ab</td>
      </tr>
      <tr>
          <td>[abc]x</td>
          <td>ax bx cx</td>
      </tr>
      <tr>
          <td>.txt</td>
          <td>atxt btxt</td>
      </tr>
  </tbody>
</table>
</li>
<li>
<p>重复:</p>
<p>指前面的基本单位重复的次数</p>
<ul>
<li>‘+’ 重复至少一次     &ldquo;[abc]+&rdquo; &ldquo;abc+&rdquo; &ldquo;(abc)+&rdquo;</li>
<li>‘？’重复零次或一次 &ldquo;abc?&rdquo; &ldquo;[abc]?&rdquo; &ldquo;(abc)?&rdquo;</li>
<li>‘*’  重复任意次数</li>
</ul>
</li>
<li>
<p>指定基本位置</p>
</li>
</ul>
</li>
</ol>
<h2 id="命令组合">命令组合</h2>
<ol>
<li>
<p>cmd1; cmd2</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>root@fedora:/home/looechao# mkdir linux03<span style="color:#1f2328">;</span> <span style="color:#6639ba">cd</span> linux03
</span></span><span style="display:flex;"><span>root@fedora:/home/looechao/linux03# 
</span></span></code></pre></div></li>
<li>
<p>cmd1 | cmd2</p>
<p>管道，pipe, 用history 的输出输入到wc -l 这个程序中</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>root@fedora:/home/looechao/cpp58# <span style="color:#6639ba">history</span> <span style="color:#1f2328">|</span> wc -l
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  cmd <span style="color:#0550ae">1</span>               cmd2
</span></span><span style="display:flex;"><span><span style="color:#0550ae">[</span> stdout <span style="color:#0550ae">]</span>-&gt;<span style="color:#0550ae">[</span>管道<span style="color:#0550ae">]</span>-&gt;<span style="color:#0550ae">[</span> stdin xargs<span style="color:#0550ae">[]</span> <span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>              ^
</span></span><span style="display:flex;"><span>              <span style="color:#1f2328">|</span>
</span></span><span style="display:flex;"><span>     内存，由内核管理的数据结构  
</span></span></code></pre></div></li>
<li>
<p>cmd1 | xargs cmd2</p>
<p>将cmd1输出的每一行作为cmd2的命令行参数</p>
</li>
</ol>
<h2 id="文件的权限">文件的权限</h2>
<table>
  <thead>
      <tr>
          <th>类型</th>
          <th>权限</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>r</td>
          <td>可读</td>
      </tr>
      <tr>
          <td>w</td>
          <td>可写</td>
      </tr>
      <tr>
          <td>x</td>
          <td>可执行</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#57606a">#! /usr/bin/env python                                              sharp bang shebang 脚本文件的解释器       </span>
</span></span></code></pre></div><p>增加可执行权限</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>root@fedora:/home/looechao/coding# chmod +x hello.py
</span></span><span style="display:flex;"><span>root@fedora:/home/looechao/coding# ./hello.py
</span></span><span style="display:flex;"><span>hello world
</span></span></code></pre></div><p>关于目录项</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> 目录项（directory entry: direct）
</span></span><span style="display:flex;"><span>   <span style="color:#1f2328">|</span>
</span></span><span style="display:flex;"><span>  <span style="color:#0550ae">[</span>.<span style="color:#0550ae">]</span>-&gt;<span style="color:#0550ae">[</span>a.txt<span style="color:#0550ae">]</span>-&gt;<span style="color:#0550ae">[</span>text<span style="color:#0550ae">]</span>-&gt;<span style="color:#0550ae">[</span>..<span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>       <span style="color:#0550ae">[</span>      library        <span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>       /     /    <span style="color:#1f2328">|</span>      <span style="color:#0a3069">\ </span>   <span style="color:#0a3069">\
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069"></span>    <span style="color:#0550ae">[</span>dir<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>.<span style="color:#0550ae">]</span>  <span style="color:#0550ae">[</span>a.txt<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>text<span style="color:#0550ae">]</span> <span style="color:#0550ae">[</span>..<span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>   /  <span style="color:#1f2328">|</span>  <span style="color:#0a3069">\
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069"></span>  a   b   c
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th>目录文件的权限</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>r</td>
          <td>ls tree</td>
      </tr>
      <tr>
          <td>w</td>
          <td>删除目录项，添加目录项</td>
      </tr>
      <tr>
          <td>x</td>
          <td>最基本的权限(cd, ls , w ,r)</td>
      </tr>
  </tbody>
</table>
<h3 id="chmod-命令">chmod 命令</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ chmod o+w text1   为其他人添加写权限
</span></span><span style="display:flex;"><span>$ chmod <span style="color:#953800">u</span><span style="color:#0550ae">=</span>rwx,g<span style="color:#0550ae">=</span>rx,o<span style="color:#0550ae">=</span>r text1
</span></span><span style="display:flex;"><span>$ chmod <span style="color:#0550ae">664</span> text1 数字设定法
</span></span></code></pre></div><h3 id="文件创建掩码">文件创建掩码</h3>
<p>umask ：u for unix</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ <span style="color:#6639ba">umask</span> <span style="color:#0550ae">0023</span>
</span></span></code></pre></div><h2 id="符号链接">符号链接</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ln -s text1 link
</span></span></code></pre></div><p>删除命令不会更改链接指向的值</p>
<p>如果创建的链接是指向空目录的时候，就会产生一个悬空链接，类似于C语言当中的野指针</p>
<h2 id="远程控制">远程控制</h2>
<p>scp: secure copy （基于SSH协议）， 进行远程复制（上传和下载），上传即将本地数值远程复制到远程，下载即将远程数据复制到本地</p>
<ul>
<li><strong>本地路径</strong>：
<ul>
<li>绝对路径：</li>
<li>相对路径：</li>
</ul>
</li>
<li><strong>远程路径</strong>
<ul>
<li>用户名(远程机器的用户名)@IP:绝对路径</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ scp 
</span></span></code></pre></div><h2 id="打包">打包</h2>
<p>tar: text archieve</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tar c  创建
</span></span><span style="display:flex;"><span>tar r  追加
</span></span><span style="display:flex;"><span>tar x  释放
</span></span><span style="display:flex;"><span>tar t  查看
</span></span><span style="display:flex;"><span>tar f  指定文件的名称
</span></span><span style="display:flex;"><span>tar v  verbose 详细信息
</span></span><span style="display:flex;"><span>tar z  使用zip算法压缩或者解压缩文件
</span></span></code></pre></div><pre tabindex="0"><code>tar czvf create zip verbose 命名.tar.gz
</code></pre><h1 id="编译工具链">编译工具链</h1>
<p>对应集成开发环境(IDE)，又叫SDK（Software Development Kit）</p>
<p>过程</p>
<table>
  <thead>
      <tr>
          <th>过程</th>
          <th>生成文件</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>gcc -E</td>
          <td>预处理后文件(*.i)</td>
      </tr>
      <tr>
          <td>gcc -S</td>
          <td>汇编代码(*.s)</td>
      </tr>
      <tr>
          <td>gcc -C</td>
          <td>目标文件(*.o)</td>
      </tr>
      <tr>
          <td>无</td>
          <td>可执行程序</td>
      </tr>
      <tr>
          <td>gcc -l$</td>
          <td>链接&amp;{lib}库</td>
      </tr>
      <tr>
          <td>gcc -Wall</td>
          <td>警告消息</td>
      </tr>
      <tr>
          <td>gcc -g</td>
          <td>补充调试信息</td>
      </tr>
      <tr>
          <td>gcc -O1 -O2 -O3</td>
          <td>指定优化级别</td>
      </tr>
      <tr>
          <td>gcc -D${macro}</td>
          <td>#define &amp;{macro}定义宏</td>
      </tr>
      <tr>
          <td>gcc -D${macro} = ${value}</td>
          <td>#define &amp;{macro} ${value}</td>
      </tr>
      <tr>
          <td>gcc -l${dir}</td>
          <td>#include&lt;&gt;${dir} -&gt; 系统的include目录下搜索<br />#include&quot; &ldquo;${dir} -&gt; 当前工作目录下搜索</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ gcc -E 预处理 
</span></span><span style="display:flex;"><span>$ gcc -S 汇编 -&gt; 汇编代码
</span></span><span style="display:flex;"><span>$ gcc -c 目标文件 compiled生成 hello.o
</span></span><span style="display:flex;"><span>$ gcc 生成可执行程序
</span></span><span style="display:flex;"><span>$ gcc -wall warning all
</span></span><span style="display:flex;"><span>$ gcc -o0 -o1 -o2 -o3
</span></span><span style="display:flex;"><span>       ^     ^
</span></span><span style="display:flex;"><span>       <span style="color:#1f2328">|</span> <span style="color:#0550ae">[</span>生产阶段<span style="color:#0550ae">]</span> 
</span></span><span style="display:flex;"><span>$ gcc -g 生成调试信息
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ Dmacro: 在文件开头 <span style="color:#57606a">#define macro</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ gcc -E main.c -o main.i DEBUG  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>rm main.<span style="color:#0550ae">[</span>^c<span style="color:#0550ae">]</span>  一处所有.c 之外的文件 
</span></span><span style="display:flex;"><span>rm main 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#57606a">#include</span><span style="color:#57606a">&lt;func.h&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">#ifndef MAXSIZE
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#define MAXSIZE 4096
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">(</span> <span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">int</span> i<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6639ba">printf</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;%d&#34;</span><span style="color:#1f2328">,</span> MAXSIZE<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">#ifdef DEBUG
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>	<span style="color:#6639ba">printf</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;i = %d&#34;</span><span style="color:#1f2328">,</span> i<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>    <span style="color:#cf222e">return</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><h2 id="条件编译">条件编译</h2>
<p>作用：在预处理阶段决定包含哪些代码块，不包含哪些代码块</p>
<p>方法：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#57606a">#if  ... #elif ... #else ... #endif
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#ifdef ... #endif
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#ifndef ... #endif
</span></span></span></code></pre></div><p>应用场景：</p>
<ul>
<li>编写可以指的代码</li>
<li>给宏提供默认值</li>
<li>调试程序</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#57606a">#include</span><span style="color:#57606a">&lt;stdio.h&gt;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">#define DEBUG 0
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> argc<span style="color:#1f2328">,</span> <span style="color:#cf222e">char</span><span style="color:#0550ae">*</span> argv<span style="color:#1f2328">[]){</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><h2 id="gdb-调试">gdb 调试</h2>
<ul>
<li>
<p>调试往往更难</p>
</li>
<li>
<p>调试程序流程</p>
<ul>
<li>
<p>走走</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> run/n
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> <span style="color:#cf222e">continue</span>/n
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> next/n
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> step/s
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> finish/f  回到主调函数
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> ignore<span style="color:#0550ae">(</span>NUM<span style="color:#0550ae">)</span> 忽略断点NUM次,调试循环时非常有用
</span></span></code></pre></div></li>
<li>
<p>停停</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> break/b
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> delete/s
</span></span></code></pre></div></li>
<li>
<p>看看（观察是否和预期一致）</p>
<ul>
<li>预期错了，说明快找到原因了</li>
<li>程序错了，表明提出线索</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> print/p
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> display/EXPR
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> info display
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> undisplay
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> info locals
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> info args
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> info registers
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-BASH" data-lang="BASH"><span style="display:flex;"><span><span style="color:#953800">$gdb</span> main
</span></span><span style="display:flex;"><span><span style="color:#953800">$gcc</span> main.c -o main -g   编译必须要加g
</span></span><span style="display:flex;"><span><span style="color:#953800">$gdb</span> main aaa bbb ccc 
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">|</span>   命令行参数
</span></span><span style="display:flex;"><span>  executable
</span></span><span style="display:flex;"><span>  
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> quit //退出
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> run<span style="color:#0550ae">(</span>r<span style="color:#0550ae">)</span>  //跑程序
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> <span style="color:#6639ba">set</span> args aaa bbb ccc //设置命令行参数
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> list  //显示代码，默认10行
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> break<span style="color:#0550ae">(</span>b<span style="color:#0550ae">)</span>  //设置断点 
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> <span style="color:#6639ba">break</span> <span style="color:#0550ae">14</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> <span style="color:#6639ba">break</span> main.c :14
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> <span style="color:#6639ba">break</span> foo  //指定函数的名字
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> <span style="color:#6639ba">break</span> main.c:foo
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> info <span style="color:#6639ba">break</span> //停一停程序
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> delete <span style="color:#0550ae">1</span> //删除断点1
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> delete //会询问是否删除所有的断点
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> next<span style="color:#0550ae">(</span>n<span style="color:#0550ae">)</span>  //下一步下一行或者遇到函数会执行完整个函数调用
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> step //单步调试
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> finish // 执行完这次函数调用会回到被调函数
</span></span></code></pre></div><p><strong>常见用法</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> display r
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> display PI*r*r
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> info display
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> undisplay
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> undisplay
</span></span></code></pre></div><p><strong>查看内存</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gcc main.c -o main -Wall -g
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> gdb main
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> <span style="color:#6639ba">break</span> <span style="color:#0550ae">11</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> r
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> x/nFU address
</span></span><span style="display:flex;"><span>  n个单元的内存 U表示内存单元
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> x/4db arr+5
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> x/4xb arr+5
</span></span></code></pre></div><p><strong>用gdb查看core文件</strong></p>
<ul>
<li>
<p>core文件</p>
<ul>
<li>概念：类比黑匣子，core文件是程序异常终止时的内存快照（包含一些堆、栈、寄存器信息）</li>
<li>功能：恢复场景，还原错误</li>
<li>方法：用gdb生成core文件</li>
</ul>
</li>
<li>
<p>生成core文件</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>查看系统是否允许生成coredump文件
</span></span><span style="display:flex;"><span>$ <span style="color:#6639ba">ulimit</span> -a
</span></span><span style="display:flex;"><span>$ <span style="color:#6639ba">ulimit</span> -c unlimited  将core文件的大小临时设置为不受限制
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>设置coredump文件的格式
</span></span><span style="display:flex;"><span>$ vim /etc/sysctl.conf
</span></span><span style="display:flex;"><span> kernel.core_pattern <span style="color:#0550ae">=</span> %e_core_%s_%t executubal-name sigbal <span style="color:#6639ba">time</span>
</span></span><span style="display:flex;"><span>$ sysctl -p  让配置生效
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> sysctl <span style="color:#cf222e">for</span> system control
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ gcc <span style="color:#6639ba">test</span> .c -o <span style="color:#6639ba">test</span> -g  注意-g补充调试信息
</span></span><span style="display:flex;"><span>$ ./test
</span></span><span style="display:flex;"><span>Floating point exception <span style="color:#0550ae">(</span>core dumped<span style="color:#0550ae">)</span>
</span></span></code></pre></div><ul>
<li>查看core文件</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> <span style="color:#6639ba">test</span> test_core_8_1715911762.2496
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> backtrace   或者 bt 打开栈帧的调试情况 结果显示从栈顶到栈底
</span></span><span style="display:flex;"><span><span style="color:#57606a">#0  ···</span>
</span></span><span style="display:flex;"><span> ·  ···
</span></span><span style="display:flex;"><span><span style="color:#57606a">#3</span>
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> frame3 查看栈帧
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> info args 查看局部变量的值
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> info locals
</span></span><span style="display:flex;"><span><span style="color:#0550ae">(</span>gdb<span style="color:#0550ae">)</span> 
</span></span></code></pre></div><h2 id="makefile原理">Makefile原理</h2>
<ul>
<li>
<p>Makefile</p>
<ul>
<li>
<p>makefile 是一个脚本文件，使用make工具可以解释执行makefile脚本文件</p>
</li>
<li>
<p>makefile 的优点</p>
<ul>
<li>自动编译</li>
<li>增量编译（只编译新增和修改过的.c文件）</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>a.c  -&gt; a.o
</span></span><span style="display:flex;"><span>b.c  -&gt; b.o   
</span></span><span style="display:flex;"><span>c.c  -&gt; b.o   -&gt; 链接生成 executable
</span></span><span style="display:flex;"><span>···            
</span></span><span style="display:flex;"><span>x.c  -&gt; x.o
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>书写方法</p>
<p>makefile对语法要求非常严格</p>
<p>algs.h</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">#ifndef __WD_ALGS
</span></span></span><span style="display:flex;"><span><span style="color:#57606a">#DEFINE __WD_ALGS
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">add</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">int</span> b<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">mul</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">int</span> b<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">dev</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">int</span> b<span style="color:#1f2328">);</span>
</span></span></code></pre></div><p>add.c</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&#34;algs.h&#34;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">add</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">int</span> b<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> a <span style="color:#0550ae">+</span> b<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>mul.c</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&#34;algs.h&#34;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">mul</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">int</span> b<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> a <span style="color:#0550ae">*</span> b<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>div.c</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&#34;algs.h&#34;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">div</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> a<span style="color:#1f2328">,</span> <span style="color:#cf222e">int</span> b<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> a <span style="color:#0550ae">/</span> b<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>main.c</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#57606a">#include</span> <span style="color:#57606a">&#34;algs.h&#34;</span><span style="color:#57606a">
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">int</span> <span style="color:#6639ba">main</span><span style="color:#1f2328">(</span><span style="color:#cf222e">int</span> argc<span style="color:#1f2328">,</span> <span style="color:#cf222e">char</span><span style="color:#0550ae">*</span> argv<span style="color:#1f2328">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">int</span> a <span style="color:#0550ae">=</span> <span style="color:#0550ae">1</span><span style="color:#1f2328">,</span> b <span style="color:#0550ae">=</span> <span style="color:#0550ae">3</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#6639ba">mul</span><span style="color:#1f2328">(</span><span style="color:#0550ae">3</span><span style="color:#1f2328">,</span><span style="color:#0550ae">4</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>Makefile</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-makefile" data-lang="makefile"><span style="display:flex;"><span><span style="color:#6639ba">main</span><span style="color:#0550ae">:</span> main.o  add.o mul.o div.o <span style="color:#57606a">##目标文件和依赖文件  
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span>	gcc main.0 add.o sub.o mul.o div.o -o main  <span style="color:#57606a">##shell命令</span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">## 目标和命令共同构成了规则
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#6639ba">main.o</span><span style="color:#0550ae">:</span> main.c algs.h
</span></span><span style="display:flex;"><span>	gcc -c main.c -Wall -g
</span></span><span style="display:flex;"><span><span style="color:#6639ba">add.o</span><span style="color:#0550ae">:</span> add.c algs.h
</span></span><span style="display:flex;"><span>	gcc -c add.c -Wall-g
</span></span><span style="display:flex;"><span><span style="color:#6639ba">sub.o</span><span style="color:#0550ae">:</span> mul.c algs.h
</span></span><span style="display:flex;"><span>	gcc -c mul.c -wall-g
</span></span><span style="display:flex;"><span><span style="color:#6639ba">div.o</span><span style="color:#0550ae">:</span> div.c algs.h
</span></span><span style="display:flex;"><span>	gcc -c div.c -Wall-g
</span></span><span style="display:flex;"><span>	....
</span></span><span style="display:flex;"><span><span style="color:#6639ba">.PHONY</span><span style="color:#0550ae">:</span> clean rebuild
</span></span><span style="display:flex;"><span><span style="color:#6639ba">clean</span><span style="color:#0550ae">:</span>
</span></span><span style="display:flex;"><span>	rm- rf *.o main
</span></span><span style="display:flex;"><span><span style="color:#6639ba">rebuild</span><span style="color:#0550ae">:</span> clean main
</span></span></code></pre></div></li>
<li>
<p>原理</p>
<ul>
<li>
<p>依赖关系: 一般使用有向无环图来表示（Directed Acyclic Graph, DAG）, make在执行脚本的时候，在内部会生成DAG，执行过程会用到DFS（深度优先遍历）</p>
<pre tabindex="0"><code class="language-bsah" data-lang="bsah">           main 
        /   |   \              
   main.o add.o sub.o  ···
    / \    | |  ···  ··· 
main.c \   |add.c 
       algs.h
</code></pre><p>通过拓扑排序可以保证有向无环图的依赖关系, 常常会用到DFS算法</p>
</li>
<li>
<p>伪目标：规则中的shell命令不一定要生成目标文件</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-makefile" data-lang="makefile"><span style="display:flex;"><span><span style="color:#6639ba">.PHONY</span><span style="color:#0550ae">:</span> clean    <span style="color:#57606a">##PHONY伪目标
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"></span><span style="color:#6639ba">clean</span><span style="color:#0550ae">:</span> 
</span></span><span style="display:flex;"><span>	rm-rf *.o main
</span></span></code></pre></div><p>如上规则，没有任何目标文件</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ make clean
</span></span></code></pre></div><p>这样的伪目标可以反复执行</p>
</li>
<li>
<p>什么情况下会执行命令？</p>
<ul>
<li>目标不存在</li>
<li>依赖比目标更新</li>
</ul>
</li>
</ul>
</li>
<li>
<p>效果</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ make
</span></span></code></pre></div><p>会有<strong>自动编译</strong>和<strong>增量编译</strong>的效果</p>
</li>
</ul>
<h2 id="库文件">库文件</h2>
<p>什么是库文件：库文件是目标文件(*.o)的集合</p>
<p>分类：</p>
<ul>
<li>
<p><strong>静态库</strong>：.lib .a 对函数的链接在连接阶段完成</p>
<p>优点：</p>
<ul>
<li>移植方便</li>
</ul>
<p>缺点</p>
<ul>
<li>
<p>浪费空间，每一个进程中都有静态库的一个副本</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">[</span>进程 .lib<span style="color:#0550ae">]</span>    <span style="color:#0550ae">[</span>进程  .lib<span style="color:#0550ae">]</span> 
</span></span></code></pre></div></li>
<li>
<p>对程序的更新，部署，发布不友好</p>
</li>
</ul>
</li>
<li>
<p><strong>动态库</strong>：.ddl  .so (dynamic link library) 在运行时完成对函数的链接</p>
<p>优点：</p>
<ul>
<li>
<p>可以共享</p>
</li>
<li>
<p>对程序更新，部署，发布友好</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#0550ae">[</span>进程<span style="color:#0550ae">]</span>   <span style="color:#0550ae">[</span>进程<span style="color:#0550ae">]</span>
</span></span><span style="display:flex;"><span>     <span style="color:#0a3069">\ </span>  /
</span></span><span style="display:flex;"><span>     <span style="color:#0550ae">[</span>.so<span style="color:#0550ae">]</span>
</span></span></code></pre></div></li>
</ul>
<p>缺点</p>
<ul>
<li>不方便移植</li>
</ul>
</li>
</ul>
<p><strong>打包生成静态库的流程：</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ls
</span></span><span style="display:flex;"><span>args.h add.c  sub.c mul.c div.c  
</span></span><span style="display:flex;"><span>$ make
</span></span><span style="display:flex;"><span>或者
</span></span><span style="display:flex;"><span>$ gcc -c add.c sub.c mul.c div.c
</span></span><span style="display:flex;"><span>$ ar crsv libalgs.a add.o sub.o mul.o div.o   <span style="color:#57606a">##打包生成静态库</span>
</span></span><span style="display:flex;"><span>$ sudo mv libalgs.a /usr/lib
</span></span><span style="display:flex;"><span>$ mv * tmp/
</span></span><span style="display:flex;"><span>$ vim main.c
</span></span></code></pre></div><p>在main.c中使用</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#57606a">#incldue &#34;algs.h&#34;
</span></span></span></code></pre></div><p><strong>打包生成动态库</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ls 
</span></span><span style="display:flex;"><span>args.h add.c  sub.c mul.c div.c
</span></span><span style="display:flex;"><span>$ gcc -c *.c -fpic     
</span></span><span style="display:flex;"><span>$ ls
</span></span><span style="display:flex;"><span>args.h add.c  sub.c mul.c div.c add.o  sub.o mul.o div.o
</span></span><span style="display:flex;"><span>$ gcc -shared add.o sub.o mul.o div.o -o libarlgs.so
</span></span><span style="display:flex;"><span>$ sudo mv libalgs.so /usr/lib  移动到系统的库目录下面去
</span></span><span style="display:flex;"><span>$ rm *.o
</span></span><span style="display:flex;"><span>$ gcc main.c -o main -lalgs
</span></span><span style="display:flex;"><span>$ ./main
</span></span><span style="display:flex;"><span>/usr/lib$ mv libalgs.so libalgs.so.0.0.1
</span></span><span style="display:flex;"><span>$ ./main 跑不通
</span></span></code></pre></div>
    </div>
</article>


<link rel="stylesheet" href="/css/image-modal.css">
<script src="/js/image-zoom.js"></script>

                <footer>
  <p style="display: flex; justify-content: space-between; align-items: center; margin: 0;">
    <span>&copy; 2025 <a href="https://looechao.com/" style="color: inherit; text-decoration: none;">looechao</a>. All rights reserved.</span>
    <a href="/changelog" style="color: inherit; text-decoration: none;">Changelog</a>
  </p>
</footer>

            </main>
            
<div class="comments-wrapper">
    <div id="giscus-container" class="comments-section"></div>
    <script src="https://giscus.app/client.js" data-repo="looechao/hugo-comments"
        data-repo-id="R_kgDOLbUd7g" data-category="Announcements"
        data-category-id="DIC_kwDOLbUd7s4Cum0P"
        data-mapping="pathname" data-strict="0"
        data-reactions-enabled="true"
        data-emit-metadata="false" data-input-position="top"
        data-theme="light"
        data-lang="en" crossorigin="anonymous" async>
        </script>
</div>

        </div>
    </div>
    
    
</body>

</html>